{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2025-12-01T00:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "wrk_backend_biblioteca",
      "_type": "workspace",
      "name": "Backend Biblioteca SOA",
      "description": "API REST con arquitectura SOA - API Gateway (Traefik), Message Broker (Redis), Async Tasks (Celery)",
      "scope": "collection"
    },
    {
      "_id": "env_base",
      "_type": "environment",
      "name": "Base Environment",
      "data": {
        "base_url": "http://localhost",
        "flower_url": "http://localhost/flower",
        "access_token": "",
        "refresh_token": "",
        "query": "python+programming",
        "volume_id": "Uo6fDwAAQBAJ"
      },
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "folder_auth",
      "_type": "request_group",
      "name": "Auth",
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "req_register",
      "_type": "request",
      "name": "Register",
      "method": "POST",
      "url": "{{ _.base_url }}/auth/register",
      "parentId": "folder_auth",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"full_name\": \"Juan P\\u00e9rez\",\n  \"email\": \"juan@example.com\",\n  \"dni\": \"12345678\",\n  \"phone\": \"987654321\",\n  \"university\": \"Universidad Nacional\",\n  \"password\": \"password123\"\n}"
      }
    },
    {
      "_id": "req_login",
      "_type": "request",
      "name": "Login",
      "method": "POST",
      "url": "{{ _.base_url }}/auth/login",
      "parentId": "folder_auth",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"secret\"\n}"
      }
    },
    {
      "_id": "req_me",
      "_type": "request",
      "name": "Me",
      "method": "GET",
      "url": "{{ _.base_url }}/auth/me",
      "parentId": "folder_auth",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_refresh",
      "_type": "request",
      "name": "Refresh Token",
      "method": "POST",
      "url": "{{ _.base_url }}/auth/refresh",
      "parentId": "folder_auth",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.refresh_token }}"
        }
      ]
    },
    {
      "_id": "req_list_users",
      "_type": "request",
      "name": "List Users",
      "method": "GET",
      "url": "{{ _.base_url }}/auth/users",
      "parentId": "folder_auth",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "folder_catalog",
      "_type": "request_group",
      "name": "Catalog",
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "req_list_popular_books",
      "_type": "request",
      "name": "List Popular Books",
      "method": "GET",
      "url": "{{ _.base_url }}/catalog/books",
      "parentId": "folder_catalog",
      "description": "Lista libros populares de Google Books API"
    },
    {
      "_id": "req_search_books",
      "_type": "request",
      "name": "Search Books",
      "method": "GET",
      "url": "{{ _.base_url }}/catalog/books/search?q={{ _.query }}",
      "parentId": "folder_catalog",
      "description": "Busca libros por término en Google Books API. Cambia la variable de entorno 'query' para ajustar la búsqueda."
    },
    {
      "_id": "req_get_book_by_id",
      "_type": "request",
      "name": "Get Book by Volume ID",
      "method": "GET",
      "url": "{{ _.base_url }}/catalog/books/id/{{ _.volume_id }}",
      "parentId": "folder_catalog",
      "description": "Obtiene libro por Volume ID de Google Books. Cambia la variable de entorno 'volume_id' con el id que obtuviste en la búsqueda."
    },
    {
      "_id": "req_search_by_category",
      "_type": "request",
      "name": "Search by Category",
      "method": "GET",
      "url": "{{ _.base_url }}/catalog/books/category/Technology",
      "parentId": "folder_catalog",
      "description": "Busca libros por categoría (Technology, Fiction, etc.)"
    },
    {
      "_id": "folder_inventory",
      "_type": "request_group",
      "name": "Inventory",
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "req_list_inventory",
      "_type": "request",
      "name": "List All Inventory",
      "method": "GET",
      "url": "{{ _.base_url }}/inventory/books",
      "parentId": "folder_inventory",
      "description": "Lista todos los libros del inventario local con su stock",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_get_book_by_volume_id",
      "_type": "request",
      "name": "Get Book Stock by Volume ID",
      "method": "GET",
      "url": "{{ _.base_url }}/inventory/books/{{ _.volume_id }}",
      "parentId": "folder_inventory",
      "description": "Busca libro por volume_id y muestra su stock local. Si no existe localmente, muestra stock 0.",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_update_book_stock",
      "_type": "request",
      "name": "Update Book Stock",
      "method": "PUT",
      "url": "{{ _.base_url }}/inventory/books/{{ _.volume_id }}/stock",
      "parentId": "folder_inventory",
      "description": "Actualiza el stock de un libro por volume_id (el libro debe existir en inventario local)",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        },
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"available_copies\": 5\n}"
      }
    },
    {
      "_id": "folder_users",
      "_type": "request_group",
      "name": "Users",
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "req_get_profile",
      "_type": "request",
      "name": "Get Profile",
      "method": "GET",
      "url": "{{ _.base_url }}/users/1",
      "parentId": "folder_users"
    },
    {
      "_id": "req_update_profile",
      "_type": "request",
      "name": "Update Profile",
      "description": "Actualiza el perfil del usuario autenticado. Solo los campos incluidos en el body serán actualizados.",
      "method": "PUT",
      "url": "{{ _.base_url }}/users/profile",
      "parentId": "folder_users",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        },
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"full_name\": \"Juan Carlos Pérez\",\n  \"phone\": \"+51 987654321\",\n  \"dni\": \"87654321\",\n  \"university\": \"Universidad de Lima\"\n}"
      }
    },
    {
      "_id": "req_deactivate",
      "_type": "request",
      "name": "Deactivate Account",
      "method": "DELETE",
      "url": "{{ _.base_url }}/users/account",
      "parentId": "folder_users",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "folder_loans",
      "_type": "request_group",
      "name": "Loans",
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "req_create_loan",
      "_type": "request",
      "name": "Create Loan from Volume ID",
      "description": "Crea un préstamo a partir de un `volume_id` de Google Books. Si el libro no existe localmente, se importará. Usa la variable de entorno 'volume_id' o pega el id en el body.",
      "method": "POST",
      "url": "{{ _.base_url }}/loans",
      "parentId": "folder_loans",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        },
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"volume_id\": \"{{ _.volume_id }}\"\n}"
      }
    },
    {
      "_id": "req_list_loans",
      "_type": "request",
      "name": "List My Loans",
      "method": "GET",
      "url": "{{ _.base_url }}/loans",
      "parentId": "folder_loans",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_list_active_loans",
      "_type": "request",
      "name": "List Active Loans",
      "method": "GET",
      "url": "{{ _.base_url }}/loans?status=ACTIVE",
      "parentId": "folder_loans",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_get_loan",
      "_type": "request",
      "name": "Get Loan Details",
      "method": "GET",
      "url": "{{ _.base_url }}/loans/1",
      "parentId": "folder_loans",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_return_loan",
      "_type": "request",
      "name": "Return Loan",
      "method": "POST",
      "url": "{{ _.base_url }}/loans/1/return",
      "parentId": "folder_loans",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_renew_loan",
      "_type": "request",
      "name": "Renew Loan",
      "method": "POST",
      "url": "{{ _.base_url }}/loans/1/renew",
      "parentId": "folder_loans",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_overdue_loans",
      "_type": "request",
      "name": "Overdue Loans",
      "method": "GET",
      "url": "{{ _.base_url }}/loans/overdue",
      "parentId": "folder_loans",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "folder_waitlist",
      "_type": "request_group",
      "name": "Waitlist",
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "req_my_waitlist",
      "_type": "request",
      "name": "My Waitlist",
      "method": "GET",
      "url": "{{ _.base_url }}/waitlist/me",
      "parentId": "folder_waitlist",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_my_active_waitlist",
      "_type": "request",
      "name": "My Active Waitlist",
      "method": "GET",
      "url": "{{ _.base_url }}/waitlist/me/active",
      "parentId": "folder_waitlist",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_cancel_waitlist",
      "_type": "request",
      "name": "Cancel Waitlist",
      "method": "POST",
      "url": "{{ _.base_url }}/waitlist/1/cancel",
      "parentId": "folder_waitlist",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "folder_notifications",
      "_type": "request_group",
      "name": "Notifications",
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "req_my_notifications",
      "_type": "request",
      "name": "My Notifications",
      "method": "GET",
      "url": "{{ _.base_url }}/notifications/me",
      "parentId": "folder_notifications",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_unread_notifications",
      "_type": "request",
      "name": "Unread Notifications",
      "method": "GET",
      "url": "{{ _.base_url }}/notifications/me?unread_only=true",
      "parentId": "folder_notifications",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_mark_read",
      "_type": "request",
      "name": "Mark as Read",
      "method": "POST",
      "url": "{{ _.base_url }}/notifications/1/read",
      "parentId": "folder_notifications",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "req_mark_all_read",
      "_type": "request",
      "name": "Mark All as Read",
      "method": "POST",
      "url": "{{ _.base_url }}/notifications/read-all",
      "parentId": "folder_notifications",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ]
    },
    {
      "_id": "folder_reports",
      "_type": "request_group",
      "name": "Reports",
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "req_my_dashboard",
      "_type": "request",
      "name": "My Dashboard",
      "method": "GET",
      "url": "{{ _.base_url }}/reports/my/dashboard",
      "parentId": "folder_reports",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ],
      "description": "Dashboard personal con tarjetas y lectura por categoría"
    },
    {
      "_id": "req_export_pdf",
      "_type": "request",
      "name": "Export PDF",
      "method": "GET",
      "url": "{{ _.base_url }}/reports/my/export/pdf",
      "parentId": "folder_reports",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ],
      "description": "Descarga el historial de lectura en PDF"
    },
    {
      "_id": "req_all_categories",
      "_type": "request",
      "name": "All Categories",
      "method": "GET",
      "url": "{{ _.base_url }}/reports/books/categories",
      "parentId": "folder_reports",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ],
      "description": "Lista todas las categorías disponibles"
    },
    {
      "_id": "req_books_by_category",
      "_type": "request",
      "name": "Books by Category",
      "method": "GET",
      "url": "{{ _.base_url }}/reports/books/category/TECHNOLOGY",
      "parentId": "folder_reports",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.access_token }}"
        }
      ],
      "description": "Lista los libros de una categoría específica"
    },
    {
      "_id": "folder_health",
      "_type": "request_group",
      "name": "Health",
      "parentId": "wrk_backend_biblioteca"
    },
    {
      "_id": "req_health",
      "_type": "request",
      "name": "Health Check",
      "method": "GET",
      "url": "{{ _.base_url }}/health",
      "parentId": "folder_health"
    }
  ]
}